\chapter{Optimizing network-utilization by balancing workload}
\label{chap:balancing}

The last chapter brings an overview of different notations, algorithms and techniques.
In this chapter, all these instruments are combined to a chain for distributing routes more evenly, that are preferred by routing-algorithms like \textit{Dijkstra}.

For a given \gls{acr:sdpair} and a graph $G$ of $d$-dimensional edge-weights, a path should be found through an algorithm, that implicitly tends to distribute found paths over the network while keeping the paths' costs sufficiently near every cost-dimension's optimum.
To achieve this, a preprocessing-phase called \textit{balancing} analyzes the graph $G$ and computes a new metric for every edge.
With this metric, routing-algorithms like \textit{Dijkstra} \todo{TODO Check if \textit{Dijkstra} really improves distribution or \textit{cyclops} has to be used.} (with \textit{personalized routing}) and \textit{cyclops} can compute paths as usual.

This \textit{balancing} is depicted in figure~\ref{fig:balancing}.

\begin{figure}
    \centering
    \input{res/graphics/balancing}
    \caption[Overview of balancing a graph]{%
        This flow shows the balancer, that analyzes a given graph $G$.
        Shapes for actions are rectangular and blue, shapes for data are elliptical and red.
        A metric is created and updated, that distributes upcoming workload (like during rush-hour) more evenly over the graph.
        Updating the metric could vary and/or depend on the number of iterations.
        \label{fig:balancing}
    }
\end{figure}

\todo{TODO Routes within a certain tolerance of the best possible cost (per metric, e.g. duration must be not worse than $25~\%$ \todo{tolerance should match the resulting plots}) are randomly chosen from \textit{cyclops}.}

TODOs
\begin{enumerate}
    \item \todo{both approaches: multiple runs (explicit euler because workload is toggling) vs multiple metrics}
    \item \todo{highlights, what was difficult/much work? -> repo-link}
    \item \todo{implementation -> sub-chapter of chapter 3}
    \item \todo{normalization of all metrics -> comparability between different graphs}
\end{enumerate}

\input{src/content/balancing/implementation}